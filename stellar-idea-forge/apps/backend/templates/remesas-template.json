{
  "templateId": "remesas-p2p",
  "name": "Remesas P2P Template",
  "description": "Template para aplicaciones de remesas peer-to-peer usando la red Stellar",
  "ideaKeywords": ["remesas", "remittance", "money transfer", "envio", "dinero", "payment", "pago", "internacional", "p2p", "peer-to-peer", "cross-border", "familiar", "family"],
  "category": "payments",
  "difficulty": "beginner",
  "estimatedTime": "1-2 weeks",
  
  "defaultQuestions": [
    "Â¿Entre quÃ© paÃ­ses funcionarÃ¡ la app de remesas? ğŸŒ",
    "Â¿QuÃ© monedas locales necesitas soportar? ğŸ’± (USD, EUR, MXN, etc.)",
    "Â¿Los usuarios necesitarÃ¡n verificaciÃ³n KYC? ğŸ†”",
    "Â¿IncluirÃ¡s notificaciones SMS/email? ğŸ“±",
    "Â¿QuÃ© comisiÃ³n cobrarÃ¡s por transacciÃ³n? ğŸ’°",
    "Â¿IntegraciÃ³n con bancos locales o solo wallets? ğŸ¦",
    "Â¿Los usuarios podrÃ¡n programar envÃ­os recurrentes? â°"
  ],
  
  "recommendedModel": "hybrid",
  "recommendedApproach": "Start simple with wallet-to-wallet transfers, then add bank integrations",
  
  "schemaMock": {
    "tables": [
      {
        "name": "users",
        "displayName": "Usuarios",
        "description": "Usuarios registrados en la plataforma de remesas",
        "fields": [
          {"name": "id", "type": "UUID", "description": "Identificador Ãºnico del usuario", "isPrimaryKey": true},
          {"name": "email", "type": "TEXT", "description": "Email del usuario", "isRequired": true},
          {"name": "full_name", "type": "TEXT", "description": "Nombre completo", "isRequired": true},
          {"name": "phone_number", "type": "TEXT", "description": "NÃºmero de telÃ©fono con cÃ³digo paÃ­s"},
          {"name": "wallet_address", "type": "TEXT", "description": "DirecciÃ³n de wallet Stellar"},
          {"name": "country_code", "type": "TEXT", "description": "CÃ³digo del paÃ­s (MX, US, etc.)", "isRequired": true},
          {"name": "preferred_currency", "type": "TEXT", "description": "Moneda preferida (USD, MXN, EUR)", "defaultValue": "USD"},
          {"name": "kyc_status", "type": "TEXT", "description": "Estado de verificaciÃ³n KYC", "defaultValue": "pending"},
          {"name": "kyc_documents", "type": "JSONB", "description": "Documentos de verificaciÃ³n"},
          {"name": "is_verified", "type": "BOOLEAN", "description": "Usuario verificado", "defaultValue": false},
          {"name": "created_at", "type": "TIMESTAMP", "description": "Fecha de registro"},
          {"name": "last_login", "type": "TIMESTAMP", "description": "Ãšltimo inicio de sesiÃ³n"}
        ]
      },
      {
        "name": "recipients",
        "displayName": "Beneficiarios",
        "description": "Lista de beneficiarios para envÃ­o de remesas",
        "fields": [
          {"name": "id", "type": "UUID", "description": "ID del beneficiario", "isPrimaryKey": true},
          {"name": "user_id", "type": "UUID", "description": "ID del usuario emisor", "isRequired": true},
          {"name": "full_name", "type": "TEXT", "description": "Nombre del beneficiario", "isRequired": true},
          {"name": "relationship", "type": "TEXT", "description": "RelaciÃ³n (familia, amigo, etc.)"},
          {"name": "phone_number", "type": "TEXT", "description": "TelÃ©fono del beneficiario"},
          {"name": "email", "type": "TEXT", "description": "Email del beneficiario"},
          {"name": "wallet_address", "type": "TEXT", "description": "Wallet Stellar del beneficiario"},
          {"name": "bank_account", "type": "TEXT", "description": "Cuenta bancaria (opcional)"},
          {"name": "country_code", "type": "TEXT", "description": "PaÃ­s del beneficiario", "isRequired": true},
          {"name": "preferred_method", "type": "TEXT", "description": "MÃ©todo preferido: wallet, bank, cash"},
          {"name": "is_favorite", "type": "BOOLEAN", "description": "Beneficiario favorito", "defaultValue": false},
          {"name": "created_at", "type": "TIMESTAMP", "description": "Fecha de creaciÃ³n"}
        ]
      },
      {
        "name": "remittances",
        "displayName": "Remesas",
        "description": "Historial de transacciones de remesas",
        "fields": [
          {"name": "id", "type": "UUID", "description": "ID Ãºnico de la remesa", "isPrimaryKey": true},
          {"name": "sender_id", "type": "UUID", "description": "ID del remitente", "isRequired": true},
          {"name": "recipient_id", "type": "UUID", "description": "ID del beneficiario", "isRequired": true},
          {"name": "amount_sent", "type": "DECIMAL(18,7)", "description": "Cantidad enviada", "isRequired": true},
          {"name": "amount_received", "type": "DECIMAL(18,7)", "description": "Cantidad recibida"},
          {"name": "send_currency", "type": "TEXT", "description": "Moneda de envÃ­o", "isRequired": true},
          {"name": "receive_currency", "type": "TEXT", "description": "Moneda de recepciÃ³n", "isRequired": true},
          {"name": "exchange_rate", "type": "DECIMAL(10,6)", "description": "Tasa de cambio aplicada"},
          {"name": "fees", "type": "DECIMAL(18,7)", "description": "Comisiones cobradas"},
          {"name": "stellar_tx_hash", "type": "TEXT", "description": "Hash de transacciÃ³n Stellar"},
          {"name": "status", "type": "TEXT", "description": "Estado: pending, processing, completed, failed", "defaultValue": "pending"},
          {"name": "delivery_method", "type": "TEXT", "description": "MÃ©todo: wallet, bank, cash_pickup"},
          {"name": "pickup_location", "type": "TEXT", "description": "UbicaciÃ³n de recogida (si aplica)"},
          {"name": "notification_sent", "type": "BOOLEAN", "description": "NotificaciÃ³n enviada", "defaultValue": false},
          {"name": "completed_at", "type": "TIMESTAMP", "description": "Fecha de completado"},
          {"name": "created_at", "type": "TIMESTAMP", "description": "Fecha de creaciÃ³n"}
        ]
      },
      {
        "name": "exchange_rates",
        "displayName": "Tasas de Cambio",
        "description": "Historial de tasas de cambio por par de monedas",
        "fields": [
          {"name": "id", "type": "UUID", "description": "ID de la tasa", "isPrimaryKey": true},
          {"name": "from_currency", "type": "TEXT", "description": "Moneda origen", "isRequired": true},
          {"name": "to_currency", "type": "TEXT", "description": "Moneda destino", "isRequired": true},
          {"name": "rate", "type": "DECIMAL(10,6)", "description": "Tasa de cambio", "isRequired": true},
          {"name": "provider", "type": "TEXT", "description": "Proveedor de la tasa (CoinGecko, etc.)"},
          {"name": "margin", "type": "DECIMAL(5,4)", "description": "Margen aplicado", "defaultValue": "0.02"},
          {"name": "created_at", "type": "TIMESTAMP", "description": "Timestamp de la tasa"}
        ]
      }
    ],
    "relationships": [
      {"from": "recipients", "to": "users", "type": "many-to-one", "foreignKey": "user_id"},
      {"from": "remittances", "to": "users", "type": "many-to-one", "foreignKey": "sender_id"},
      {"from": "remittances", "to": "recipients", "type": "many-to-one", "foreignKey": "recipient_id"}
    ]
  },
  
  "stellarFeatures": [
    "Path Payments para conversiÃ³n automÃ¡tica de monedas",
    "Anchors para convertir fiat a tokens Stellar",
    "Multi-signature para transacciones seguras",
    "Claimable Balances para entregas diferidas",
    "Memo fields para identificar transacciones"
  ],
  
  "smartContractSuggestions": [
    "Smart contract para escrow de transacciones",
    "Automated compliance and AML checks",
    "Fee distribution to partners/agents",
    "Recurring payment automation",
    "Multi-currency balance management"
  ],
  
  "visualPreview": "flowchart TD\n    A[ğŸ‘¤ Usuario] --> B[ğŸ“± Registrarse/Login]\n    B --> C[ğŸ†” VerificaciÃ³n KYC]\n    C --> D[ğŸ‘¥ Agregar Beneficiarios]\n    D --> E[ğŸ’° Seleccionar Monto]\n    E --> F[ğŸ’± Ver Tasa de Cambio]\n    F --> G[âœ… Confirmar EnvÃ­o]\n    G --> H[ğŸŒŸ TransacciÃ³n Stellar]\n    H --> I[ğŸ“§ Notificar Beneficiario]\n    I --> J[ğŸ’¸ RecepciÃ³n de Fondos]\n    \n    K[ğŸ¦ IntegraciÃ³n Bancaria] --> L[ğŸ§ Retiro ATM]\n    M[ğŸ“ Cash Pickup] --> N[ğŸª Punto de Recogida]\n    O[ğŸ“Š Dashboard Admin] --> P[ğŸ“ˆ Analytics]\n    P --> Q[ğŸ”§ Configurar Tasas]\n    \n    style A fill:#e3f2fd\n    style H fill:#c8e6c9\n    style J fill:#fff3e0\n    style O fill:#f3e5f5",
  
  "codeSnippets": {
    "stellarPayment": "// Crear pago con conversiÃ³n automÃ¡tica\nconst payment = StellarSdk.Operation.pathPaymentStrictSend({\n  sendAsset: StellarSdk.Asset.native(), // XLM\n  sendAmount: sendAmount,\n  destination: recipientPublicKey,\n  destAsset: new StellarSdk.Asset('USDC', anchorPublicKey),\n  destMin: minReceiveAmount,\n  path: [intermediateAsset] // Si es necesario\n});",
    
    "memoTransaction": "// Agregar memo para identificar la remesa\nconst transaction = new StellarSdk.TransactionBuilder(account, {\n  fee: StellarSdk.BASE_FEE,\n  networkPassphrase: StellarSdk.Networks.PUBLIC\n})\n.addOperation(paymentOp)\n.addMemo(StellarSdk.Memo.text(`REMESA-${remittanceId}`))\n.setTimeout(180)\n.build();",
    
    "exchangeRate": "// Obtener tasa de cambio actual\nconst getExchangeRate = async (fromCurrency, toCurrency) => {\n  const response = await fetch(\n    `https://api.coingecko.com/api/v3/simple/price?ids=${fromCurrency}&vs_currencies=${toCurrency}`\n  );\n  const data = await response.json();\n  return data[fromCurrency][toCurrency.toLowerCase()];\n};"
  },
  
  "recommendedLibraries": [
    "@stellar/stellar-sdk - SDK principal de Stellar",
    "twilio - Notificaciones SMS",
    "nodemailer - EnvÃ­o de emails",
    "joi - ValidaciÃ³n de datos",
    "bcrypt - Hash de contraseÃ±as",
    "jsonwebtoken - AutenticaciÃ³n JWT",
    "axios - Llamadas HTTP para tasas de cambio"
  ],
  
  "deploymentSteps": [
    "1. ğŸ”§ Configurar entorno Stellar testnet",
    "2. ğŸ—ƒï¸ Configurar base de datos (PostgreSQL)",
    "3. ğŸ”‘ Implementar sistema de autenticaciÃ³n",
    "4. ğŸ“± Integrar servicios SMS/email",
    "5. ğŸ’± Conectar API de tasas de cambio",
    "6. ğŸ§ª Pruebas con montos pequeÃ±os",
    "7. ğŸ†” Implementar verificaciÃ³n KYC",
    "8. ğŸ¦ Integrar con bancos/exchanges locales",
    "9. ğŸš€ Lanzamiento gradual por paÃ­ses"
  ],
  
  "complianceConsiderations": [
    "Registro como MSB (Money Service Business)",
    "Implementar controles AML/KYC",
    "Reportes de transacciones sospechosas (SAR)",
    "Cumplimiento con regulaciones locales",
    "LÃ­mites de transacciÃ³n por usuario",
    "RetenciÃ³n de registros por 5+ aÃ±os"
  ],
  
  "uiElements": {
    "sendMoney": "Interfaz simple para envÃ­o con calculadora de fees",
    "recipientBook": "Lista de beneficiarios con fotos y datos rÃ¡pidos",
    "transactionHistory": "Historial con estados y tracking en tiempo real",
    "rateCalculator": "Calculadora transparente de tasas y comisiones",
    "kycVerification": "Proceso guiado de verificaciÃ³n de identidad"
  },
  
  "marketingFeatures": [
    "ğŸ’° Comisiones mÃ¡s bajas que Western Union",
    "âš¡ Transferencias en segundos, no dÃ­as",
    "ğŸ”’ Seguridad blockchain de Stellar",
    "ğŸ“± App mÃ³vil fÃ¡cil de usar",
    "ğŸŒ Disponible 24/7 desde cualquier lugar",
    "ğŸ’± Tasas de cambio transparentes y competitivas"
  ],
  
  "exampleUseCases": [
    "ğŸ‡ºğŸ‡¸â¡ï¸ğŸ‡²ğŸ‡½ Trabajador en USA envÃ­a $200 USD a familia en MÃ©xico",
    "ğŸ‡ªğŸ‡¸â¡ï¸ğŸ‡µğŸ‡ª Estudiante espaÃ±ol envÃ­a â‚¬50 a amigo en PerÃº",
    "ğŸ‡¦ğŸ‡ªâ¡ï¸ğŸ‡µğŸ‡­ Trabajador domÃ©stico envÃ­a AED 500 a Filipinas",
    "ğŸ”„ EnvÃ­os recurrentes automÃ¡ticos cada mes",
    "ğŸª Recogida de efectivo en tiendas locales"
  ],
  
  "revenueModel": {
    "transactionFees": "1-3% por transacciÃ³n",
    "exchangeMargin": "0.5-1% spread en tasa de cambio",
    "subscriptionTiers": "Plan premium para empresas",
    "partnerCommissions": "Comisiones de agentes locales"
  },
  
  "metadata": {
    "version": "1.0.0",
    "lastUpdated": "2025-09-27",
    "compatibility": ["Stellar Mainnet", "Stellar Testnet"],
    "tags": ["Remesas", "P2P", "Payments", "Cross-border", "Stellar"],
    "author": "Stellar Idea Forge",
    "difficulty": "beginner",
    "estimatedDevTime": "2-3 weeks",
    "targetMarkets": ["Latin America", "Asia", "Middle East", "Africa"]
  }
}